<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container">
    <h2>Create Account</h2>
    <form onsubmit="registerUser(event)">
        <input id="username" placeholder="Username" required>
        <input id="fullName" placeholder="Full Name" required>
        <input id="email" placeholder="Email" type="email" required>
        <input id="password" placeholder="Password" type="password" required>
        <button type="submit">Register</button>
    </form>
</div>

<script src="js/api.js"></script>
<script src="js/auth.js"></script>
<script>
  const form = document.getElementById("registerForm");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData);

    const res = await fetch("/routes/users/register", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });

    const result = await res.json();
    if (res.ok) {
      alert("Registered successfully!");
    } else {
      alert("Error: " + result.message);
    }
  });
</script>
</body>
</html>
